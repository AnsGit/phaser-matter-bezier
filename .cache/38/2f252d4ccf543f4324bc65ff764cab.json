{"id":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","dependencies":[{"name":"/home/ansi/work/my/phaser-matter-bezier/package.json","includedInParent":true,"mtime":1683185740025},{"name":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/package.json","includedInParent":true,"mtime":1683181678315},{"name":"./Face","loc":{"line":7,"column":19,"index":200},"parent":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","resolved":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/Face.js"},{"name":"../../math/Matrix4","loc":{"line":8,"column":22,"index":233},"parent":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","resolved":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/math/Matrix4.js"},{"name":"../../math/Vector3","loc":{"line":9,"column":22,"index":278},"parent":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","resolved":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/math/Vector3.js"},{"name":"./Vertex","loc":{"line":10,"column":21,"index":322},"parent":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","resolved":"/home/ansi/work/my/phaser-matter-bezier/node_modules/phaser/src/geom/mesh/Vertex.js"}],"generated":{"js":"/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2013-2023 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nvar Face = require('./Face');\nvar Matrix4 = require('../../math/Matrix4');\nvar Vector3 = require('../../math/Vector3');\nvar Vertex = require('./Vertex');\n\nvar tempPosition = new Vector3();\nvar tempRotation = new Vector3();\nvar tempMatrix = new Matrix4();\n\n/**\n * This method will return an object containing Face and Vertex instances, generated\n * from the parsed triangulated OBJ Model data given to this function.\n *\n * The obj data should have been parsed in advance via the ParseObj function:\n *\n * ```javascript\n * var data = Phaser.Geom.Mesh.ParseObj(rawData, flipUV);\n *\n * var results = GenerateObjVerts(data);\n * ```\n *\n * Alternatively, you can parse obj files loaded via the OBJFile loader:\n *\n * ```javascript\n * preload ()\n * {\n *   this.load.obj('alien', 'assets/3d/alien.obj);\n * }\n *\n * var results = GenerateObjVerts(this.cache.obj.get('alien));\n * ```\n *\n * Make sure your 3D package has triangulated the model data prior to exporting it.\n *\n * You can use the data returned by this function to populate the vertices of a Mesh Game Object.\n *\n * You may add multiple models to a single Mesh, although they will act as one when\n * moved or rotated. You can scale the model data, should it be too small (or large) to visualize.\n * You can also offset the model via the `x`, `y` and `z` parameters.\n *\n * @function Phaser.Geom.Mesh.GenerateObjVerts\n * @since 3.50.0\n *\n * @param {Phaser.Types.Geom.Mesh.OBJData} data - The parsed OBJ model data.\n * @param {Phaser.GameObjects.Mesh} [mesh] - An optional Mesh Game Object. If given, the generated Faces will be automatically added to this Mesh. Set to `null` to skip.\n * @param {number} [scale=1] - An amount to scale the model data by. Use this if the model has exported too small, or large, to see.\n * @param {number} [x=0] - Translate the model x position by this amount.\n * @param {number} [y=0] - Translate the model y position by this amount.\n * @param {number} [z=0] - Translate the model z position by this amount.\n * @param {number} [rotateX=0] - Rotate the model on the x axis by this amount, in radians.\n * @param {number} [rotateY=0] - Rotate the model on the y axis by this amount, in radians.\n * @param {number} [rotateZ=0] - Rotate the model on the z axis by this amount, in radians.\n * @param {boolean} [zIsUp=true] - Is the z axis up (true), or is y axis up (false)?\n *\n * @return {Phaser.Types.Geom.Mesh.GenerateVertsResult} The parsed Face and Vertex objects.\n */\nvar GenerateObjVerts = function (data, mesh, scale, x, y, z, rotateX, rotateY, rotateZ, zIsUp)\n{\n    if (scale === undefined) { scale = 1; }\n    if (x === undefined) { x = 0; }\n    if (y === undefined) { y = 0; }\n    if (z === undefined) { z = 0; }\n    if (rotateX === undefined) { rotateX = 0; }\n    if (rotateY === undefined) { rotateY = 0; }\n    if (rotateZ === undefined) { rotateZ = 0; }\n    if (zIsUp === undefined) { zIsUp = true; }\n\n    var result = {\n        faces: [],\n        verts: []\n    };\n\n    var materials = data.materials;\n\n    tempPosition.set(x, y, z);\n    tempRotation.set(rotateX, rotateY, rotateZ);\n    tempMatrix.fromRotationXYTranslation(tempRotation, tempPosition, zIsUp);\n\n    for (var m = 0; m < data.models.length; m++)\n    {\n        var model = data.models[m];\n\n        var vertices = model.vertices;\n        var textureCoords = model.textureCoords;\n        var faces = model.faces;\n\n        for (var i = 0; i < faces.length; i++)\n        {\n            var face = faces[i];\n\n            var v1 = face.vertices[0];\n            var v2 = face.vertices[1];\n            var v3 = face.vertices[2];\n\n            var m1 = vertices[v1.vertexIndex];\n            var m2 = vertices[v2.vertexIndex];\n            var m3 = vertices[v3.vertexIndex];\n\n            var t1 = v1.textureCoordsIndex;\n            var t2 = v2.textureCoordsIndex;\n            var t3 = v3.textureCoordsIndex;\n\n            var uv1 = (t1 === -1) ? { u: 0, v: 1 } : textureCoords[t1];\n            var uv2 = (t2 === -1) ? { u: 0, v: 0 } : textureCoords[t2];\n            var uv3 = (t3 === -1) ? { u: 1, v: 1 } : textureCoords[t3];\n\n            var color = 0xffffff;\n\n            if (face.material !== '' && materials[face.material])\n            {\n                color = materials[face.material];\n            }\n\n            var vert1 = new Vertex(m1.x * scale, m1.y * scale, m1.z * scale, uv1.u, uv1.v, color).transformMat4(tempMatrix);\n            var vert2 = new Vertex(m2.x * scale, m2.y * scale, m2.z * scale, uv2.u, uv2.v, color).transformMat4(tempMatrix);\n            var vert3 = new Vertex(m3.x * scale, m3.y * scale, m3.z * scale, uv3.u, uv3.v, color).transformMat4(tempMatrix);\n\n            result.verts.push(vert1, vert2, vert3);\n            result.faces.push(new Face(vert1, vert2, vert3));\n        }\n    }\n\n    if (mesh)\n    {\n        mesh.faces = mesh.faces.concat(result.faces);\n        mesh.vertices = mesh.vertices.concat(result.verts);\n    }\n\n    return result;\n};\n\nmodule.exports = GenerateObjVerts;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}}],"sources":{"node_modules/phaser/src/geom/mesh/GenerateObjVerts.js":"/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2013-2023 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nvar Face = require('./Face');\nvar Matrix4 = require('../../math/Matrix4');\nvar Vector3 = require('../../math/Vector3');\nvar Vertex = require('./Vertex');\n\nvar tempPosition = new Vector3();\nvar tempRotation = new Vector3();\nvar tempMatrix = new Matrix4();\n\n/**\n * This method will return an object containing Face and Vertex instances, generated\n * from the parsed triangulated OBJ Model data given to this function.\n *\n * The obj data should have been parsed in advance via the ParseObj function:\n *\n * ```javascript\n * var data = Phaser.Geom.Mesh.ParseObj(rawData, flipUV);\n *\n * var results = GenerateObjVerts(data);\n * ```\n *\n * Alternatively, you can parse obj files loaded via the OBJFile loader:\n *\n * ```javascript\n * preload ()\n * {\n *   this.load.obj('alien', 'assets/3d/alien.obj);\n * }\n *\n * var results = GenerateObjVerts(this.cache.obj.get('alien));\n * ```\n *\n * Make sure your 3D package has triangulated the model data prior to exporting it.\n *\n * You can use the data returned by this function to populate the vertices of a Mesh Game Object.\n *\n * You may add multiple models to a single Mesh, although they will act as one when\n * moved or rotated. You can scale the model data, should it be too small (or large) to visualize.\n * You can also offset the model via the `x`, `y` and `z` parameters.\n *\n * @function Phaser.Geom.Mesh.GenerateObjVerts\n * @since 3.50.0\n *\n * @param {Phaser.Types.Geom.Mesh.OBJData} data - The parsed OBJ model data.\n * @param {Phaser.GameObjects.Mesh} [mesh] - An optional Mesh Game Object. If given, the generated Faces will be automatically added to this Mesh. Set to `null` to skip.\n * @param {number} [scale=1] - An amount to scale the model data by. Use this if the model has exported too small, or large, to see.\n * @param {number} [x=0] - Translate the model x position by this amount.\n * @param {number} [y=0] - Translate the model y position by this amount.\n * @param {number} [z=0] - Translate the model z position by this amount.\n * @param {number} [rotateX=0] - Rotate the model on the x axis by this amount, in radians.\n * @param {number} [rotateY=0] - Rotate the model on the y axis by this amount, in radians.\n * @param {number} [rotateZ=0] - Rotate the model on the z axis by this amount, in radians.\n * @param {boolean} [zIsUp=true] - Is the z axis up (true), or is y axis up (false)?\n *\n * @return {Phaser.Types.Geom.Mesh.GenerateVertsResult} The parsed Face and Vertex objects.\n */\nvar GenerateObjVerts = function (data, mesh, scale, x, y, z, rotateX, rotateY, rotateZ, zIsUp)\n{\n    if (scale === undefined) { scale = 1; }\n    if (x === undefined) { x = 0; }\n    if (y === undefined) { y = 0; }\n    if (z === undefined) { z = 0; }\n    if (rotateX === undefined) { rotateX = 0; }\n    if (rotateY === undefined) { rotateY = 0; }\n    if (rotateZ === undefined) { rotateZ = 0; }\n    if (zIsUp === undefined) { zIsUp = true; }\n\n    var result = {\n        faces: [],\n        verts: []\n    };\n\n    var materials = data.materials;\n\n    tempPosition.set(x, y, z);\n    tempRotation.set(rotateX, rotateY, rotateZ);\n    tempMatrix.fromRotationXYTranslation(tempRotation, tempPosition, zIsUp);\n\n    for (var m = 0; m < data.models.length; m++)\n    {\n        var model = data.models[m];\n\n        var vertices = model.vertices;\n        var textureCoords = model.textureCoords;\n        var faces = model.faces;\n\n        for (var i = 0; i < faces.length; i++)\n        {\n            var face = faces[i];\n\n            var v1 = face.vertices[0];\n            var v2 = face.vertices[1];\n            var v3 = face.vertices[2];\n\n            var m1 = vertices[v1.vertexIndex];\n            var m2 = vertices[v2.vertexIndex];\n            var m3 = vertices[v3.vertexIndex];\n\n            var t1 = v1.textureCoordsIndex;\n            var t2 = v2.textureCoordsIndex;\n            var t3 = v3.textureCoordsIndex;\n\n            var uv1 = (t1 === -1) ? { u: 0, v: 1 } : textureCoords[t1];\n            var uv2 = (t2 === -1) ? { u: 0, v: 0 } : textureCoords[t2];\n            var uv3 = (t3 === -1) ? { u: 1, v: 1 } : textureCoords[t3];\n\n            var color = 0xffffff;\n\n            if (face.material !== '' && materials[face.material])\n            {\n                color = materials[face.material];\n            }\n\n            var vert1 = new Vertex(m1.x * scale, m1.y * scale, m1.z * scale, uv1.u, uv1.v, color).transformMat4(tempMatrix);\n            var vert2 = new Vertex(m2.x * scale, m2.y * scale, m2.z * scale, uv2.u, uv2.v, color).transformMat4(tempMatrix);\n            var vert3 = new Vertex(m3.x * scale, m3.y * scale, m3.z * scale, uv3.u, uv3.v, color).transformMat4(tempMatrix);\n\n            result.verts.push(vert1, vert2, vert3);\n            result.faces.push(new Face(vert1, vert2, vert3));\n        }\n    }\n\n    if (mesh)\n    {\n        mesh.faces = mesh.faces.concat(result.faces);\n        mesh.vertices = mesh.vertices.concat(result.verts);\n    }\n\n    return result;\n};\n\nmodule.exports = GenerateObjVerts;\n"},"lineCount":139}},"error":null,"hash":"4aa10ee2f999fd4163a6b9e1356f1f08","cacheData":{"env":{}}}